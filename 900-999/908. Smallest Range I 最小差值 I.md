
ä½œè€…ï¼š 		è´Ÿé›ªæ˜çƒ› 
idï¼š				fuxuemingzhu
ä¸ªäººåšå®¢ï¼š	http://fuxuemingzhu.cn/

---
@[TOC](ç›®å½•)

é¢˜ç›®åœ°å€ï¼šhttps://leetcode.com/problems/smallest-range-i/description/

## é¢˜ç›®æè¿°

Given an array A of integers, for each integer A[i] we may choose any x with ``-K <= x <= K``, and add x to A[i].

After this process, we have some array B.

Return the smallest possible difference between the maximum value of B and the minimum value of B.

Example 1:

    Input: A = [1], K = 0
    Output: 0
    Explanation: B = [1]

Example 2:

    Input: A = [0,10], K = 2
    Output: 6
    Explanation: B = [2,8]

Example 3:

    Input: A = [1,3,6], K = 3
    Output: 0
    Explanation: B = [3,3,3] or B = [4,4,4]


Note:

1. 1 <= A.length <= 10000
1. 0 <= A[i] <= 10000
1. 0 <= K <= 10000

å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ [@è´Ÿé›ªæ˜çƒ›](https://leetcode-cn.com/u/fuxuemingzhu/)ã€‚ğŸ‘ˆğŸ‘ˆ ç‚¹å‡»å…³æ³¨ï¼Œä¼˜è´¨é¢˜è§£ä¸é—´æ–­ã€‚

## é¢˜ç›®å¤§æ„

ç»å¸¸çœ‹æˆ‘é¢˜è§£çš„åŒå­¦éƒ½çŸ¥é“ï¼Œæˆ‘æ¯æ¬¡éƒ½ä¸Šæ¥å…ˆåˆ†æé¢˜ç›®æ„æ€ï¼Œè¿™æ˜¯åšå¯¹é¢˜çš„ç¬¬ä¸€æ­¥ã€‚

æœ¬é¢˜æ˜¯è¯´å¯¹äºæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œéƒ½å¯ä»¥å¯¹å…¶å€¼è¿›è¡Œä¿®æ”¹ï¼šåŠ ä¸Š `[-k, k]` å†…çš„ä»»æ„æ•´æ•°ã€‚é—®å¦‚ä½•å¯¹æ•´ä¸ªæ•°ç»„ä¿®æ”¹åï¼Œæ•°ç»„çš„æœ€å¤§å€¼å‡å»æœ€å°å€¼çš„å·®ï¼Œæ˜¯æœ€å°çš„ã€‚

ä¸¾ä¸ªä¾‹å­ï¼Œå‡å¦‚è¾“å…¥æ•°ç»„æ˜¯ $[3, 6]$ï¼Œ$k = 2$ã€‚

é‚£ä¹ˆå¯¹äº $3$ æ¥è¯´ï¼Œå¯ä»¥å˜æˆ $[1, 2 ,3, 4, 5]$ ä¸­çš„ä¸€ä¸ªï¼š

![908. æœ€å°å·®å€¼ I.001.png](https://picture-bed-1251805293.file.myqcloud.com/1651281695-Xtsksb-908.%20%E6%9C%80%E5%B0%8F%E5%B7%AE%E5%80%BC%20I.001.png)


é‚£ä¹ˆå¯¹äº $6$ æ¥è¯´ï¼Œå¯ä»¥å˜æˆ $[4, 5 ,6, 7, 8]$ ä¸­çš„ä¸€ä¸ªï¼š

![908. æœ€å°å·®å€¼ I.002.png](https://picture-bed-1251805293.file.myqcloud.com/1651281707-JJjxvA-908.%20%E6%9C%80%E5%B0%8F%E5%B7%AE%E5%80%BC%20I.002.png)


å› æ­¤ï¼Œå¯ä»¥æŠŠæ•°ç»„ $[3, 6]$ å˜æˆ $[4, 4]$ æˆ–è€… $[5,  5]$ï¼Œæ­¤æ—¶çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ç›¸ç­‰ï¼Œå³å·®å€¼ä¸º $0$ã€‚

![908. æœ€å°å·®å€¼ I.003.png](https://picture-bed-1251805293.file.myqcloud.com/1651281719-YOoFrO-908.%20%E6%9C%80%E5%B0%8F%E5%B7%AE%E5%80%BC%20I.003.png)




## è§£é¢˜æ–¹æ³•

å¯¹äºæœ¬é¢˜ï¼Œæˆ‘çš„ç¬¬ä¸€æƒ³æ³•æ˜¯æŠŠ`æœ€å°å€¼ + kï¼Œæœ€å¤§å€¼ - k`ï¼Œä¿®æ”¹åçš„æ•°ç»„æœ€å¤§å€¼ä¸æœ€å°å€¼çš„å·® â€œåº”è¯¥æ˜¯â€ æœ€å°çš„ã€‚

![908. æœ€å°å·®å€¼ I.004.png](https://picture-bed-1251805293.file.myqcloud.com/1651281740-WbKnnA-908.%20%E6%9C%80%E5%B0%8F%E5%B7%AE%E5%80%BC%20I.004.png)


è½¬å¿µä¸€æƒ³ï¼Œä¸å¯¹å•Šï¼å‡å¦‚ `æœ€å°å€¼ + k  > æœ€å¤§å€¼ - k`ï¼Œç»è¿‡ä¸Šé¢çš„è½¬åŒ–ï¼ŒçŸ®çš„å˜æˆé«˜çš„äº†ã€é«˜çš„å˜æˆçŸ®çš„äº†ã€‚å…¶å®æœ¬æ¥å·®å€¼å¯ä»¥å˜æˆ $0$ çš„ï¼Œä½†æ˜¯å´å¯¼è‡´ã€Œ**çŸ«æ‰è¿‡æ­£**ã€äº†ã€‚

![908. æœ€å°å·®å€¼ I.005.png](https://picture-bed-1251805293.file.myqcloud.com/1651281751-xXjxaN-908.%20%E6%9C%80%E5%B0%8F%E5%B7%AE%E5%80%BC%20I.005.png)


å› æ­¤ï¼Œéœ€è¦å¤šåŠ ä¸ªåˆ¤æ–­ï¼Œæ€è·¯ä¹Ÿå°±æœ‰äº†ï¼š

- å½“åŸæ•°ç»„çš„`æœ€å¤§å€¼ - æœ€å°å€¼ > 2 * k`ï¼Œé‚£ä¹ˆæŠŠ`æœ€å°å€¼ + kï¼Œæœ€å¤§å€¼ - k`ï¼Œå¾—åˆ°çš„æ–°æ•°ç»„çš„æœ€å¤§å€¼å’Œæœ€å°å€¼çš„å·®æœ€å°ã€‚
- å¦åˆ™ï¼Œå¾—åˆ°çš„æ–°æ•°ç»„çš„æœ€å¤§å€¼å’Œæœ€å°å€¼çš„å·®å°±æ˜¯ $0$ã€‚ï¼ˆä¸è¦ã€Œ**çŸ«æ‰è¿‡æ­£**ã€ï¼‰

ä»£ç å¦‚ä¸‹ï¼š


```python
class Solution(object):
    def smallestRangeI(self, nums, k):
        """
        :type nums: List[int]
        :type k: int
        :rtype: int
        """
        diff = max(nums) - min(nums)
        if diff > 2 * k:
            return diff - 2 * k
        return 0
```

æˆ–è€…æ¢ä¸€ç§å†™æ³•ï¼š

```python
class Solution(object):
    def smallestRangeI(self, A, K):
        """
        :type A: List[int]
        :type K: int
        :rtype: int
        """
        return max(max(A) - min(A) - 2 * K, 0)
```

## å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ï¼š$O(N)$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

## æ€»ç»“

1. å¯¹äºè¿™ç§é¢˜ç›®ï¼Œå¹¶ä¸éœ€è¦çœŸæ­£çš„æŠŠâ€œæ–°æ•°ç»„â€çš„æ¯ä¸ªå€¼éƒ½è®¡ç®—å‡ºæ¥ï¼Œåªéœ€è¦æ±‚å‡ºä¸€ä¸ªå€¼æ¥ï¼Œé‚£ä¹ˆä¸€èˆ¬å°±æ˜¯é æ€è·¯å’Œè§„å¾‹å–èƒœï¼Œä¸è¦æš´åŠ›æ±‚â€œæ–°æ•°ç»„â€å“¦~

## æ—¥æœŸ

2018 å¹´ 9 æœˆ 23 æ—¥ â€”â€” ä»Šå¤©æ˜¯å®éªŒå®¤ç¬¬ä¸€ä¸ªæ‰“å¡çš„
2018 å¹´ 11 æœˆ 5 æ—¥ â€”â€” æ‰“äº†ç¾½æ¯›çƒï¼Œæœ‰ç‚¹ç´¯

[1]: https://s3-lc-upload.s3.amazonaws.com/uploads/2018/07/17/question_11.jpg
